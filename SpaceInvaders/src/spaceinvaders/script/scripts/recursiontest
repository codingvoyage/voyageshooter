callfunction [fibonacci] 31 --> result
print "THE FINAL IS"
print result

endthread 

function [fibonacci] number

    if number == 0
        return 0
    endif

    if number == 1
        return 1
    endif

    evaluate number - 2 --> term1
    evaluate number - 1 --> term2

    callfunction [fibonacci] term1 --> term1
    callfunction [fibonacci] term2 --> term2

    evaluate term1 + term2 --> sum

return sum  